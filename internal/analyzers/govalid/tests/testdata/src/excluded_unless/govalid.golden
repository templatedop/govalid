// Code generated by govalid; DO NOT EDIT.
package excluded_unless

import (
	"errors"

	"github.com/templatedop/govalid"
	govaliderrors "github.com/templatedop/govalid/validation/errors"
)

var (
	// ErrNilOrder is returned when the Order is nil.
	ErrNilOrder = errors.New("input Order is nil")

	// ErrOrderDeliveryAddressExcludedUnlessValidation is the error returned when the field must be absent unless another field has a specific value.
	ErrOrderDeliveryAddressExcludedUnlessValidation = govaliderrors.ValidationError{Reason: "field DeliveryAddress must be absent unless DeliveryMethod equals \"home_delivery\"", Path: "Order.DeliveryAddress", Type: "excluded_unless"}

	// ErrOrderInvoiceNumberExcludedUnlessValidation is the error returned when the field must be absent unless another field has a specific value.
	ErrOrderInvoiceNumberExcludedUnlessValidation = govaliderrors.ValidationError{Reason: "field InvoiceNumber must be absent unless PaymentType equals \"invoice\"", Path: "Order.InvoiceNumber", Type: "excluded_unless"}
)

func ValidateOrder(t *Order) error {
	if t == nil {
		return ErrNilOrder
	}

	var errs govaliderrors.ValidationErrors

	if t.DeliveryMethod != "home_delivery" && t.DeliveryAddress != "" {
		err := ErrOrderDeliveryAddressExcludedUnlessValidation
		err.Value = t.DeliveryAddress
		errs = append(errs, err)
	}

	if t.PaymentType != "invoice" && t.InvoiceNumber != "" {
		err := ErrOrderInvoiceNumberExcludedUnlessValidation
		err.Value = t.InvoiceNumber
		errs = append(errs, err)
	}

	if len(errs) > 0 {
		return errs
	}
	return nil
}

var _ govalid.Validator = (*Order)(nil)

func (t *Order) Validate() error {
	return ValidateOrder(t)
}
