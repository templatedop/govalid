// Code generated by govalid; DO NOT EDIT.
package excluded_without

import (
	"errors"

	"github.com/templatedop/govalid"
	govaliderrors "github.com/templatedop/govalid/validation/errors"
)

var (
	// ErrNilFeature is returned when the Feature is nil.
	ErrNilFeature = errors.New("input Feature is nil")

	// ErrFeatureAdvancedFeaturesExcludedWithoutValidation is the error returned when the field must be absent because other fields are absent.
	ErrFeatureAdvancedFeaturesExcludedWithoutValidation = govaliderrors.ValidationError{Reason: "field AdvancedFeatures must be absent when any of PremiumAccess are absent", Path: "Feature.AdvancedFeatures", Type: "excluded_without"}

	// ErrFeatureEnterpriseFeaturesExcludedWithoutValidation is the error returned when the field must be absent because other fields are absent.
	ErrFeatureEnterpriseFeaturesExcludedWithoutValidation = govaliderrors.ValidationError{Reason: "field EnterpriseFeatures must be absent when any of LicenseKey are absent", Path: "Feature.EnterpriseFeatures", Type: "excluded_without"}
)

func ValidateFeature(t *Feature) error {
	if t == nil {
		return ErrNilFeature
	}

	var errs govaliderrors.ValidationErrors

	if (t.PremiumAccess == "") && t.AdvancedFeatures != "" {
		err := ErrFeatureAdvancedFeaturesExcludedWithoutValidation
		err.Value = t.AdvancedFeatures
		errs = append(errs, err)
	}

	if (t.LicenseKey == "") && t.EnterpriseFeatures != "" {
		err := ErrFeatureEnterpriseFeaturesExcludedWithoutValidation
		err.Value = t.EnterpriseFeatures
		errs = append(errs, err)
	}

	if len(errs) > 0 {
		return errs
	}
	return nil
}

var _ govalid.Validator = (*Feature)(nil)

func (t *Feature) Validate() error {
	return ValidateFeature(t)
}
