// Code generated by govalid; DO NOT EDIT.
package minduration

import (
	"errors"
	"time"

	"github.com/templatedop/govalid"
	govaliderrors "github.com/templatedop/govalid/validation/errors"
)

var (
	// ErrNilTask is returned when the Task is nil.
	ErrNilTask = errors.New("input Task is nil")

	// ErrTaskDurationMindurationValidation is the error returned when the duration is less than the minimum.
	ErrTaskDurationMindurationValidation = govaliderrors.ValidationError{Reason: "field Duration must be at least 1h", Path: "Task.Duration", Type: "minduration"}

	// ErrTaskTimeoutMindurationValidation is the error returned when the duration is less than the minimum.
	ErrTaskTimeoutMindurationValidation = govaliderrors.ValidationError{Reason: "field Timeout must be at least 30s", Path: "Task.Timeout", Type: "minduration"}

	// ErrTaskIntervalMindurationValidation is the error returned when the duration is less than the minimum.
	ErrTaskIntervalMindurationValidation = govaliderrors.ValidationError{Reason: "field Interval must be at least 5m", Path: "Task.Interval", Type: "minduration"}
)

func ValidateTask(t *Task) error {
	if t == nil {
		return ErrNilTask
	}

	var errs govaliderrors.ValidationErrors

	if func() bool { d, _ := time.ParseDuration("1h"); return t.Duration < d }() {
		err := ErrTaskDurationMindurationValidation
		err.Value = t.Duration
		errs = append(errs, err)
	}

	if func() bool { d, _ := time.ParseDuration("30s"); return t.Timeout < d }() {
		err := ErrTaskTimeoutMindurationValidation
		err.Value = t.Timeout
		errs = append(errs, err)
	}

	if func() bool { d, _ := time.ParseDuration("5m"); return t.Interval < d }() {
		err := ErrTaskIntervalMindurationValidation
		err.Value = t.Interval
		errs = append(errs, err)
	}

	if len(errs) > 0 {
		return errs
	}
	return nil
}

var _ govalid.Validator = (*Task)(nil)

func (t *Task) Validate() error {
	return ValidateTask(t)
}
