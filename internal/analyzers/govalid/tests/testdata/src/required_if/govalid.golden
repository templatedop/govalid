// Code generated by govalid; DO NOT EDIT.
package required_if

import (
	"errors"

	"github.com/sivchari/govalid"
	govaliderrors "github.com/sivchari/govalid/validation/errors"
)

var (
	// ErrNilForm is returned when the Form is nil.
	ErrNilForm = errors.New("input Form is nil")

	// ErrFormCompanyNameRequiredIfValidation is the error returned when the field is required due to another field's value.
	ErrFormCompanyNameRequiredIfValidation = govaliderrors.ValidationError{Reason: "field CompanyName is required when Type equals \"business\"", Path: "Form.CompanyName", Type: "required_if"}

	// ErrFormActiveFieldRequiredIfValidation is the error returned when the field is required due to another field's value.
	ErrFormActiveFieldRequiredIfValidation = govaliderrors.ValidationError{Reason: "field ActiveField is required when Status equals \"active\"", Path: "Form.ActiveField", Type: "required_if"}
)

func ValidateForm(t *Form) error {
	if t == nil {
		return ErrNilForm
	}

	var errs govaliderrors.ValidationErrors

	if t.Type == "business" && t.CompanyName == "" {
		err := ErrFormCompanyNameRequiredIfValidation
		err.Value = t.CompanyName
		errs = append(errs, err)
	}

	if t.Status == "active" && t.ActiveField == "" {
		err := ErrFormActiveFieldRequiredIfValidation
		err.Value = t.ActiveField
		errs = append(errs, err)
	}

	if len(errs) > 0 {
		return errs
	}
	return nil
}

var _ govalid.Validator = (*Form)(nil)

func (t *Form) Validate() error {
	return ValidateForm(t)
}
