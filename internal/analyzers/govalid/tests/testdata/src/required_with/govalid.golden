// Code generated by govalid; DO NOT EDIT.
package required_with

import (
	"errors"

	"github.com/sivchari/govalid"
	govaliderrors "github.com/sivchari/govalid/validation/errors"
)

var (
	// ErrNilRegistration is returned when the Registration is nil.
	ErrNilRegistration = errors.New("input Registration is nil")

	// ErrRegistrationEmailConfirmationRequiredWithValidation is the error returned when the field is required because other fields are present.
	ErrRegistrationEmailConfirmationRequiredWithValidation = govaliderrors.ValidationError{Reason: "field EmailConfirmation is required when any of Email are present", Path: "Registration.EmailConfirmation", Type: "required_with"}

	// ErrRegistrationPhoneConfirmationRequiredWithValidation is the error returned when the field is required because other fields are present.
	ErrRegistrationPhoneConfirmationRequiredWithValidation = govaliderrors.ValidationError{Reason: "field PhoneConfirmation is required when any of Phone are present", Path: "Registration.PhoneConfirmation", Type: "required_with"}
)

func ValidateRegistration(t *Registration) error {
	if t == nil {
		return ErrNilRegistration
	}

	var errs govaliderrors.ValidationErrors

	if (t.Email != "") && t.EmailConfirmation == "" {
		err := ErrRegistrationEmailConfirmationRequiredWithValidation
		err.Value = t.EmailConfirmation
		errs = append(errs, err)
	}

	if (t.Phone != "") && t.PhoneConfirmation == "" {
		err := ErrRegistrationPhoneConfirmationRequiredWithValidation
		err.Value = t.PhoneConfirmation
		errs = append(errs, err)
	}

	if len(errs) > 0 {
		return errs
	}
	return nil
}

var _ govalid.Validator = (*Registration)(nil)

func (t *Registration) Validate() error {
	return ValidateRegistration(t)
}
