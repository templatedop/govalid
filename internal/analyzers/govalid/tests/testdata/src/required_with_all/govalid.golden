// Code generated by govalid; DO NOT EDIT.
package required_with_all

import (
	"errors"

	"github.com/sivchari/govalid"
	govaliderrors "github.com/sivchari/govalid/validation/errors"
)

var (
	// ErrNilPerson is returned when the Person is nil.
	ErrNilPerson = errors.New("input Person is nil")

	// ErrPersonFullNameRequiredWithAllValidation is the error returned when the field is required because all other fields are present.
	ErrPersonFullNameRequiredWithAllValidation = govaliderrors.ValidationError{Reason: "field FullName is required when all of FirstName, LastName are present", Path: "Person.FullName", Type: "required_with_all"}

	// ErrPersonZipCodeRequiredWithAllValidation is the error returned when the field is required because all other fields are present.
	ErrPersonZipCodeRequiredWithAllValidation = govaliderrors.ValidationError{Reason: "field ZipCode is required when all of Street, City are present", Path: "Person.ZipCode", Type: "required_with_all"}
)

func ValidatePerson(t *Person) error {
	if t == nil {
		return ErrNilPerson
	}

	var errs govaliderrors.ValidationErrors

	if (t.FirstName != "" && t.LastName != "") && t.FullName == "" {
		err := ErrPersonFullNameRequiredWithAllValidation
		err.Value = t.FullName
		errs = append(errs, err)
	}

	if (t.Street != "" && t.City != "") && t.ZipCode == "" {
		err := ErrPersonZipCodeRequiredWithAllValidation
		err.Value = t.ZipCode
		errs = append(errs, err)
	}

	if len(errs) > 0 {
		return errs
	}
	return nil
}

var _ govalid.Validator = (*Person)(nil)

func (t *Person) Validate() error {
	return ValidatePerson(t)
}
